# Advanced Examples - Nexus Protocol v2.0.0 –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö enterprise-—Ñ–∏—á Nexus Protocol SDK –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å—Ä–µ–¥–Ω–µ–≥–æ –∏ –∫—Ä—É–ø–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞.

## üöÄ –ß—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ ResponseMetadata (v2.0.0)
- **Rate limiting**: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Å—Ç–∞—Ç—É—Å –ø–æ–ø–∞–¥–∞–Ω–∏–π –≤ –∫—ç—à, TTL
- **–ö–≤–æ—Ç—ã**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–≤–æ—Ç –ø–æ —Ç–∏–ø–∞–º (–∑–∞–ø—Ä–æ—Å—ã, –¥–∞–Ω–Ω—ã–µ, etc.)

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ —á–µ—Ä–µ–∑ custom_headers
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã**: `low`, `normal`, `high`, `critical`
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: `no-cache`, `cache-only`, `cache-first`, `network-first`
- **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã**: A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ feature flags

### 3. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–ú–µ—Ç—Ä–∏–∫–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏**: –ø–æ–∏—Å–∫‚Üí—Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ä–µ–∑—É–ª—å—Ç–∞—Ç‚Üí–¥–µ–π—Å—Ç–≤–∏–µ, —É–¥–µ—Ä–∂–∞–Ω–∏–µ
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è, –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–∏, –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- **–ü–æ –¥–æ–º–µ–Ω–∞–º**: –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –¥–æ–º–µ–Ω—É

### 4. –î–µ—Ç–∞–ª—å–Ω—ã–π health check
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: —Å—Ç–∞—Ç—É—Å –ë–î, –∫—ç—à–∞, –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ï–º–∫–æ—Å—Ç—å**: —Ç–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã, –æ—á–µ—Ä–µ–¥–∏

### 5. Batch –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: –ø–æ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 6. Webhooks –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ URL –∏ —Å–æ–±—ã—Ç–∏–π
- **Retry policy**: –ø–æ–ª–∏—Ç–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—Ö–æ–≤/–æ—à–∏–±–æ–∫

### 7. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- **–§–∏–ª—å—Ç—Ä—ã**: –ø–æ –¥–æ–º–µ–Ω–∞–º, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏, –¥–∞—Ç–µ, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –∫—É—Ä—Å–æ—Ä—ã, —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

### 8. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏ –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å
- **–õ–æ–∫–∞–ª—å**: `ru-RU`, `en-US`, etc.
- **–í–∞–ª—é—Ç–∞**: `RUB`, `USD`, `EUR`
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: `Europe/Moscow`, etc.
- **Tenant –∏–∑–æ–ª—è—Ü–∏—è**: –ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üèÉ‚Äç‚ôÇÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤

```bash
# –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ sdk/go

# –ü–æ–ª–Ω—ã–π advanced demo (v2.0.0)
make run-advanced
# –∏–ª–∏
go run ./examples/advanced

# Batch –æ–ø–µ—Ä–∞—Ü–∏–∏
make run-advanced-batch
# –∏–ª–∏
go run ./examples/advanced/batch

# Webhooks
make run-advanced-webhooks
# –∏–ª–∏
go run ./examples/advanced/webhooks
```

## üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (v2.0.0)

### –î–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞ (50-500 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤)
- **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ**: 1-3 –¥–Ω—è –≤–º–µ—Å—Ç–æ 2-6 –º–µ—Å—è—Ü–µ–≤
- **–ö–æ–Ω–≤–µ—Ä—Å–∏—è**: +75% (—Å 30% –¥–æ 67.5%)
- **–≠–∫–æ–Ω–æ–º–∏—è**: $200K-500K/–≥–æ–¥ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –¥–æ 1M –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å

### –î–ª—è –∫—Ä—É–ø–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ (500+ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤)
- **Multi-tenant**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ health checks
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: batch –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: retry, rate limiting, circuit breakers
- **–≠–∫–æ–Ω–æ–º–∏—è**: $500K-2M/–≥–æ–¥

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è v2.0.0
```go
cfg := nexus.Config{
    BaseURL:         "https://api.company.com",
    Token:           "jwt-token",
    ProtocolVersion: "2.0.0", // Nexus Protocol v2.0.0 —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
    ClientVersion:   "2.0.0",
    ClientID:        "advanced-app",
    ClientType:      "api",
    RetryConfig: &nexus.RetryConfig{
        MaxRetries: 5,  // –í—ã—Å–æ–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
        InitialDelay: 200 * time.Millisecond,
        MaxDelay: 10 * time.Second,
    },
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```go
client.SetPriority("high")
client.SetCacheControl("cache-first")
client.SetExperiment("advanced-features")
client.SetFeatureFlag("advanced_analytics", "enabled")
```

### Batch –æ–ø–µ—Ä–∞—Ü–∏–∏
```go
batch := nexus.NewBatchBuilder().
    AddOperation("execute_template", templateReq).
    AddOperation("log_event", analyticsReq).
    SetOptions(&types.BatchOptions{
        Parallel: true,
        StopOnError: false,
    })

result, err := batch.Execute(ctx, client)
```

### Webhook —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```go
webhookResp, _ := client.RegisterWebhook(ctx, &types.RegisterWebhookRequest{
    Config: &types.WebhookConfig{
        URL:    "https://app.company.com/webhooks",
        Events: []string{"template.completed", "batch.completed"},
        Secret: "webhook-secret",
        RetryPolicy: &types.WebhookRetryPolicy{
            MaxRetries: 3,
            InitialDelay: 1000,
        },
    },
})
```

## üìà –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –¥–µ–π—Å—Ç–≤–∏–∏

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ enterprise –º–µ—Ç—Ä–∏–∫:

```
‚úÖ –ü–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω:
   - Execution ID: exec-12345
   - Status: completed
   - Processing time: 450 ms
   - Enterprise metrics:
     * Rate limit: 950/1000 (reset: 1640996100)
     * Cache: hit (TTL: 300s)
     * Quota: 50000/100000 (requests)
   - Pagination: page 1/5 (250 items)
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä** –Ω–∞ –≤–∞—à–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhooks** –¥–ª—è –≤–∞—à–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. **–í–Ω–µ–¥—Ä–∏—Ç–µ batch –æ–ø–µ—Ä–∞—Ü–∏–∏** –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** enterprise –º–µ—Ç—Ä–∏–∫
5. **–û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ multi-tenant** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤

```
examples/advanced/
‚îú‚îÄ‚îÄ main.go              # –ü–æ–ª–Ω—ã–π advanced demo (v2.0.0)
‚îú‚îÄ‚îÄ batch/
‚îÇ   ‚îî‚îÄ‚îÄ main.go         # Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ—Ä—ã
‚îú‚îÄ‚îÄ webhooks/
‚îÇ   ‚îî‚îÄ‚îÄ main.go         # Webhooks –ø—Ä–∏–º–µ—Ä—ã
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ v2.0.0 –¥–æ—Å—Ç—É–ø–Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üöÄ Deployment

–ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
- [Docker Compose](../../../../deployment/docker-compose.yml)
- [Kubernetes](../../../../deployment/kubernetes/)
- [Deployment Guide](../../../../deployment/DEPLOYMENT.md)

---

**Nexus Protocol SDK v2.0.0** ‚Äî –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production! üöÄ
